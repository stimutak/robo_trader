# RoboTrader Docker Environment Configuration Template
# Copy this file to .env and update with your values

# ============================================
# TRADING CONFIGURATION
# ============================================

# Trading mode: paper or live
TRADING_MODE=paper

# Comma-separated list of symbols to trade
TRADING_SYMBOLS=AAPL,NVDA,TSLA,GOOGL,MSFT,AMZN,META,NFLX

# Enabled strategies (comma-separated)
# Available: momentum, mean_reversion, ml_enhanced, microstructure, pairs_trading, stat_arbitrage
STRATEGY_ENABLED_STRATEGIES=momentum,mean_reversion,ml_enhanced,microstructure,pairs_trading

# ============================================
# INTERACTIVE BROKERS CONFIGURATION
# ============================================

# IBKR Gateway/TWS connection
# Use host.docker.internal for local IBKR on host machine
# Use actual IP for remote IBKR Gateway
IBKR_HOST=host.docker.internal

# IBKR Port (7497 for paper, 4001 for live)
IBKR_PORT=7497

# IBKR Client ID (must be unique per connection)
IBKR_CLIENT_ID=1

# ============================================
# RISK MANAGEMENT
# ============================================

# Maximum position size per trade (USD)
RISK_MAX_POSITION_SIZE=10000

# Stop loss percentage (0.02 = 2%)
RISK_STOP_LOSS_PERCENT=0.02

# Maximum daily loss (USD)
RISK_MAX_DAILY_LOSS=5000

# Maximum drawdown percentage (0.10 = 10%)
RISK_MAX_DRAWDOWN=0.10

# Kelly criterion fraction (0.25 = 25% of Kelly)
RISK_KELLY_FRACTION=0.25

# ============================================
# MONITORING & LOGGING
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Dashboard port
DASH_PORT=5555

# WebSocket server port
WEBSOCKET_PORT=8765

# Dashboard authentication (optional)
DASH_AUTH_ENABLED=false
DASH_USER=admin
# Generate with: python3 -c "import hashlib; print(hashlib.sha256('your_password'.encode()).hexdigest())"
DASH_PASS_HASH=

# ============================================
# DATABASE CONFIGURATION
# ============================================

# Database URL (SQLite path or PostgreSQL connection string)
DATABASE_URL=sqlite:///data/trading.db
# Alternative: DATABASE_URL=postgresql://user:pass@localhost/robo_trader

# Database path (relative to /app in container)
DATABASE_PATH=data/trading.db

# Database backup interval (hours)
DATABASE_BACKUP_INTERVAL=24

# ============================================
# ML MODEL CONFIGURATION
# ============================================

# Model update interval (hours)
ML_MODEL_UPDATE_INTERVAL=24

# Minimum training samples
ML_MIN_TRAINING_SAMPLES=1000

# Feature calculation interval (minutes)
ML_FEATURE_INTERVAL=5

# Model confidence threshold
ML_CONFIDENCE_THRESHOLD=0.6

# Enable ML-enhanced strategy
ML_ENHANCED_ENABLED=true

# Enable smart execution algorithms
SMART_EXECUTION_ENABLED=true

# Portfolio allocation method (equal_weight, risk_parity, mean_variance, kelly, adaptive)
PORTFOLIO_ALLOCATION_METHOD=adaptive

# ============================================
# PERFORMANCE CONFIGURATION
# ============================================

# Parallel processing workers
PARALLEL_WORKERS=4

# Cache TTL (seconds)
CACHE_TTL=300

# Market data buffer size
MARKET_DATA_BUFFER=1000

# ============================================
# PRODUCTION ONLY (docker-compose.prod.yml)
# ============================================

# Grafana admin password
GRAFANA_PASSWORD=changeme

# Redis password (optional)
REDIS_PASSWORD=

# Docker registry for image push
DOCKER_REGISTRY=docker.io

# SSL certificate paths (for nginx)
SSL_CERT_PATH=/var/robo_trader/ssl/cert.pem
SSL_KEY_PATH=/var/robo_trader/ssl/key.pem

# Prometheus retention days
PROMETHEUS_RETENTION=30

# Alert webhook URL (Slack, Discord, etc.)
ALERT_WEBHOOK_URL=

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

# Enable debug mode
DEBUG=false

# Mock trading (bypass IBKR)
MOCK_TRADING=false

# Backtesting mode
BACKTESTING_MODE=false

# Backtesting start date
BACKTESTING_START=2024-01-01

# Backtesting end date
BACKTESTING_END=2024-12-31IBKR_ACCOUNT=DU123456
